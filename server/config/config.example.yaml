# 5SecondsGo 服务端配置示例
# 复制此文件为 config.yaml 并修改配置

server:
  host: 0.0.0.0
  port: 8080
  ws_path: /ws
  metrics_port: 9091
  mode: release  # debug/release

database:
  host: localhost
  port: 5432
  user: fiveseconds
  password: "your-secure-password"  # 修改为安全密码
  dbname: fiveseconds
  sslmode: disable  # 生产环境建议使用 require
  max_open_conns: 100
  max_idle_conns: 10
  conn_max_lifetime: 1h

redis:
  host: localhost
  port: 6379
  password: ""  # 生产环境建议设置密码
  db: 0
  pool_size: 50

game:
  phase_duration: 5           # 每阶段时长(秒)
  tick_interval: 1            # tick间隔(秒)
  bet_amounts:                # 可选下注金额
    - 5
    - 10
    - 20
    - 50
    - 100
    - 200
  max_room_players: 100       # 房间最大人数
  min_room_players: 2         # 房间最小人数
  default_owner_commission: 0.03  # 默认房主佣金比例 (3%)
  platform_commission: 0.02       # 平台佣金比例 (2%)
  max_total_commission: 0.10      # 最大总佣金比例 (10%)
  min_margin_balance: 2000        # 房主最低保证金
  min_custody_quota: 2000         # 最低托管额度

auth:
  jwt_secret: "change-this-to-a-very-long-random-string"  # 必须修改！
  jwt_expire: 24h
  min_password_length: 6
  invite_code_length: 6

logging:
  level: info    # debug/info/warn/error
  format: json   # json/console
  output: stdout # stdout/file

# 风控配置
risk:
  max_daily_withdraw: 50000       # 每日最大提现
  max_single_withdraw: 10000      # 单次最大提现
  suspicious_win_rate: 0.8        # 可疑胜率阈值
  suspicious_win_streak: 10       # 可疑连胜次数

# 告警配置
alert:
  enabled: true
  webhook_url: ""  # 告警推送地址 (可选)
